$(function(){function e(e){if(!/^https?:\/\/player.vimeo.com/.test(e.origin))return!1;"*"===n&&(n=e.origin);var s=JSON.parse(e.data);switch(s.event){case"ready":t();break;case"playProgress":c(s.data);break;case"pause":a();break;case"finish":i()}}function s(e,s){var t={method:e};s&&(t.value=s);JSON.stringify(t);o[0].contentWindow.postMessage(t,n)}function t(){l.text("ready"),0==current_visited&&s("play"),s("addEventListener","pause"),s("addEventListener","finish"),s("addEventListener","playProgress")}function a(){$(".play").css("left",0),$(".pause").css("left",-1e4),$(".vim-preplay").css("left",-1e4),$(".vim-overlay").css("left",0),$(".vim-overlay").css("opacity",1),l.text("paused")}function i(){l.text("finished")}function c(e){$(".vim-playpause").css("bottom","0px"),$(".vim-noblack").css("left",1e4),$(".play").css("left",-1e4),$(".pause").css("left",0),e.seconds>e.duration-1&&($(".vim-overlay").css("left",0),$(".vim-overlay").css("opacity",1),$(".vim-playpause").css("left",-1e4),$(".vim-preplay").css("left",-1e4),$(".vim-post-controls--play").css("left",-1e4),s("pause"),s("unload")),l.text(e.seconds+"s played")}var o=$("iframe"),n="*",l=$(".status");window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e,!1),$("button").on("click",function(){s($(this).text().toLowerCase())}),$(".playclick").on("click",function(){$(".vim-overlay").css("left",-1e4),$(".vim-overlay").css("opacity",0),s("play")}),$(".replayclick").on("click",function(){$(".vim-overlay").css("left",-1e4).delay(2e3),$(".vim-overlay").css("opacity",0),s("unload"),setTimeout("post('play')",200)}),$("img.play").on("click",function(){$(".vim-overlay").css("left",-1e4),$(".vim-overlay").css("opacity",0),s("play")}),$("img.pause").on("click",function(){s("pause")}),$(".vim-post-controls--replay").on("click",function(){$(".vim-overlay").css("left",-1e4),$(".vim-overlay").css("opacity",0),$(".vim-post-controls--play").css("left",0),s("play")}),$(".vim-overlay").on("click",function(){})});